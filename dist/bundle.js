!function(e){function n(n){for(var t,i,r=n[0],s=n[1],u=0,a=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&a.push(o[i][0]),o[i]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);for(_&&_(n);a.length;)a.shift()()}var t={},o={0:0};var i={};var r={4:function(){return{"./index_bg.js":{__wbindgen_string_new:function(e,n){return t[2].exports.q(e,n)},__wbindgen_object_drop_ref:function(e){return t[2].exports.p(e)},__wbg_log_3bafd82835c6de6d:function(e){return t[2].exports.g(e)},__wbindgen_is_undefined:function(e){return t[2].exports.n(e)},__wbg_new_59cb74e423758ede:function(){return t[2].exports.i()},__wbg_stack_558ba5917b466edd:function(e,n){return t[2].exports.m(e,n)},__wbg_error_4bb6c2a97407129a:function(e,n){return t[2].exports.d(e,n)},__wbindgen_jsval_eq:function(e,n){return t[2].exports.o(e,n)},__wbg_new_3a746f2619705add:function(e,n){return t[2].exports.h(e,n)},__wbg_call_f54d3a6dadb199ca:function(e,n){return t[2].exports.b(e,n)},__wbg_self_ac379e780a0d8b94:function(e){return t[2].exports.l(e)},__wbg_crypto_1e4302b85d4f64a2:function(e){return t[2].exports.c(e)},__wbg_getRandomValues_1b4ba144162a5c9e:function(e){return t[2].exports.e(e)},__wbg_require_6461b1e9a0d7c34a:function(e,n){return t[2].exports.k(e,n)},__wbg_getRandomValues_1ef11e888e5228e9:function(e,n,o){return t[2].exports.f(e,n,o)},__wbg_randomFillSync_1b52c8482374c55b:function(e,n,o){return t[2].exports.j(e,n,o)},__wbindgen_throw:function(e,n){return t[2].exports.r(e,n)}}}}};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var u=new Promise((function(n,i){t=o[e]=[n,i]}));n.push(t[2]=u);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=function(e){return s.p+""+e+".bundle.js"}(e);var _=new Error;a=function(n){l.onerror=l.onload=null,clearTimeout(p);var t=o[e];if(0!==t){if(t){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;_.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",_.name="ChunkLoadError",_.type=i,_.request=r,t[1](_)}o[e]=void 0}};var p=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return({2:[4]}[e]||[]).forEach((function(e){var t=i[e];if(t)n.push(t);else{var o,u=r[e](),a=fetch(s.p+""+{4:"fb5bd7ee499513d58111"}[e]+".module.wasm");if(u instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)o=Promise.all([WebAssembly.compileStreaming(a),u]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)o=WebAssembly.instantiateStreaming(a,u);else{o=a.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,u)}))}n.push(i[e]=o.then((function(n){return s.w[e]=(n.instance||n).exports})))}})),Promise.all(n)},s.m=e,s.c=t,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s.oe=function(e){throw console.error(e),e},s.w={};var u=window.webpackJsonp=window.webpackJsonp||[],a=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var _=a;s(s.s=0)}([function(module,exports,__webpack_require__){Promise.all([__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,1)).catch(console.error).then(module=>{"use strict";window.plot_options={target:"#plot",data:[]},window.fitness_points=[],window.fitness_plot_options={target:"#fitness",data:[]},window.evolution_timeout=null,window.plot_or_sample=(e,n)=>(void 0===n&&(n=0),0===n?window.plot_options.data[0]={graphType:"polyline",fn:e}:window.plot_options.data[1]={fnType:"points",graphType:"scatter",points:window.sample(e)},functionPlot(window.plot_options)),window.plot_fitness_point=e=>{window.fitness_points.push(e),window.fitness_plot_options.xAxis={domain:[0,window.fitness_points.length]};const n=window.fitness_points.reduce((e,n)=>Math.min(e,n)),t=window.fitness_points.reduce((e,n)=>Math.max(e,n));return window.fitness_plot_options.yAxis={domain:[n-1,t+1]},window.fitness_plot_options.data[0]={fnType:"points",graphType:"polyline",points:window.fitness_points.map((e,n)=>[n,e])},functionPlot(window.fitness_plot_options)},window.sample_fn=(e,n,t,o)=>{let i=[];for(let r=n;r<=t;r+=o)i.push([r,e(r)]);return i},window.sample_math_string=(str,beg,end,step)=>{str=str.replace(/sin/g,"Math.sin"),str=str.replace(/cos/g,"Math.cos"),str=str.replace(/\^/g,"**");const fn=x=>{let y=eval(str.replace(/x/g,`(${x})`));return isNaN(y)?0:y};return window.sample_fn(fn,beg,end,step)},window.sample=e=>{if("string"==typeof e)return window.sample_math_string(e,-5,5,.5);if("function"==typeof e)return window.sample_math_string(e,-5,5,.5);throw`fn must be a function or a string, but ${typeof e} provided`},window.step_evolution=e=>{e>0&&(window.evolution_timeout=setTimeout(()=>{window.evolution_instance.step(1),$("#best_guess").text(window.evolution_instance.best_string()),window.plot_or_sample(e=>window.evolution_instance.best_eval(e.x),0),window.plot_fitness_point(window.evolution_instance.best_fitness()),null!==window.evolution_timeout&&window.step_evolution(e-1)},1))},window.clear_evolution=()=>{null!==window.evolution_timeout&&(clearTimeout(window.evolution_timeout),window.evolution_timeout=null)},$(()=>{window.plot_or_sample(e=>0,0),$("#preset_function").on("change",e=>{let n=$(e.target).val();""!==n&&$("#function_input").val(n).trigger("change")});let e=e=>{let n=$(e.target).val();try{window.clear_evolution(),window.plot_or_sample(n,1)}catch(e){e instanceof TypeError||console.log(e)}};$("#function_input").on("change",e),$("#function_input").on("keyup",n=>{$("#preset_function").val(""),e(n)}),$("#go").on("click",()=>{let e=$("#function_input").val();if(""!==e){let n=window.sample(e),t=n.map(e=>e[0]),o=n.map(e=>e[1]);window.fitness_points=[],window.evolution_instance=module.from_xy(t,o),window.clear_evolution(),window.step_evolution(5e4)}}),$("#stop").on("click",()=>{window.clear_evolution()})})})}]);